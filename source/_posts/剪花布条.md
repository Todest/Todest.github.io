---
title: 剪花布条
date: 2019-03-29 17:11:09
categories:
  - Algorithm
tags:
  - KMP
abbrlink: 8da1c66a
---
# Description
{% blockquote %}
一块花布条，里面有些图案，另有一块直接可用的小饰条，里面也有一些图案。对于给定的花布条和小饰条，计算一下能从花布条中尽可能剪出几块小饰条来呢？
{% endblockquote %}
<!--more-->
# Input
{% blockquote %}
输入中含有一些数据，分别是成对出现的花布条和小饰条，其布条都是用可见ASCII字符表示的，可见的ASCII字符有多少个，布条的花纹也有多少种花样。花纹条和小饰条不会超过1000个字符长。如果遇见#字符，则不再进行工作。
{% endblockquote %}
# Output
{% blockquote %}
输出能从花纹布中剪出的最多小饰条个数，如果一块都没有，那就老老实实输出0，每个结果之间应换行。
{% endblockquote %}
# Sample Input
```nohilight
abcde a3
aaaaaa  aa
#
```
# Sample Output
```nohilight
0
3
```
# Code
```cpp
#include<iostream>
#include<string>
using namespace std;
string a,b;
int NEXT[1020];
void get()
{
    int i=0,j=-1;
    NEXT[i]=j;
    while(i<b.length()){
        if(j==-1||b[i]==b[j]){
            i++;j++;
            NEXT[i]=j;
        }
        else j=NEXT[j];
    }
}
int kmp()
{
    get();
    int i=0,j=0,ans=0;
    while(i<a.length())
    {
        if(j==-1||a[i]==b[j])
        {
            i++;j++;
            if(j==b.length())
            {
                ans++;
                j=0;
            }
        }
        else j=NEXT[j];
    }
    return ans;
}
int main()
{
    while(cin>>a)
    {
        if(a[0]=='#')break;
        cin>>b;
        cout<<kmp()<<endl;
    }
    return 0;
}
```

